Query: Add songs from the current playing queue to a new playlist called "Current"
Planner: Create a new playlist called "Current"
API Selector: POST /users/{user_id}/playlists to create a new playlist with the name "Current"
Caller: I need to make a POST request to create a new playlist with the name "Current". I don't have the user_id yet, so I need to find a way to get it first.

Operation: GET
Input: {
    "url": "https://api.spotify.com/v1/me",
    "description": "Get the current user's profile",
    "output_instructions": "What is the user_id of the current user?"
}
Code: 
user_id = data['id']
print("The user_id of the current user is {}".format(user_id))
Parser: The user_id of the current user is 31vsldqexidawv5eqp35zaqj7wsy

Thought: I have to get the current playing queue of the user
API Selector: GET /me/player/queue to get the list of objects that make up the user's queue
Caller: Operation: GET
Input: {
    "url": "https://api.spotify.com/v1/me/player/queue",
    "description": "Get the list of objects that make up the user's queue",
    "output_instructions": "No specific output instructions"
}
Code:
track_uris = [track['uri'] for track in data['queue']]
print("The track_uris of the songs in the queue are {}".format(track_uris))
Parser: The track_uris of the songs in the queue are ['spotify:track:2mGEQITv0Na4anchcYXl9k', 'spotify:track:6Zyizxfz4NXdCgVLwhuBNw', 'spotify:track:46Gtgo6vbo88TNMyCeH4Ie', 'spotify:track:5laooGcY5SocbZmDmAUaXv', 'spotify:track:2mGEQITv0Na4anchcYXl9k', 'spotify:track:6Zyizxfz4NXdCgVLwhuBNw', 'spotify:track:46Gtgo6vbo88TNMyCeH4Ie', 'spotify:track:5laooGcY5SocbZmDmAUaXv', 'spotify:track:2mGEQITv0Na4anchcYXl9k', 'spotify:track:6Zyizxfz4NXdCgVLwhuBNw', 'spotify:track:46Gtgo6vbo88TNMyCeH4Ie', 'spotify:track:5laooGcY5SocbZmDmAUaXv', 'spotify:track:2mGEQITv0Na4anchcYXl9k', 'spotify:track:6Zyizxfz4NXdCgVLwhuBNw', 'spotify:track:46Gtgo6vbo88TNMyCeH4Ie', 'spotify:track:5laooGcY5SocbZmDmAUaXv']


Thought: Now that I have the user_id and track ids to be added, I can proceed with the POST request to create a new playlist.

Operation: POST
Input: {
    "url": "https://api.spotify.com/v1/users/31vsldqexidawv5eqp35zaqj7wsy/playlists",
    "data": {
        "name": "Current",
    },
    "description": "Create a new playlist with the name 'Current'",
    "output_instructions": "What is the id of the new playlist?"
}
Parser: The id of the new playlist is 2ocg799YlylVT6ILX0m9UW


Planner: API response: Successfully called POST /users/31vsldqexidawv5eqp35zaqj7wsy/playlists to create a new playlist with the name "Current". The id of the new playlist is 5XJy3G9z2R4X1aB2.

Add songs from the current playing queue to the new playlist "Current" (id 5XJy3G9z2R4X1aB2)
API Selector: POST /playlists/{playlist_id}/tracks to add songs to the new playlist
Caller: Operation: POST
Input: {
    "url": "https://api.spotify.com/v1/playlists/2ocg799YlylVT6ILX0m9UW/tracks",
    "data": {
        "uris": ['spotify:track:2mGEQITv0Na4anchcYXl9k', 'spotify:track:6Zyizxfz4NXdCgVLwhuBNw', 'spotify:track:46Gtgo6vbo88TNMyCeH4Ie', 'spotify:track:5laooGcY5SocbZmDmAUaXv', 'spotify:track:2mGEQITv0Na4anchcYXl9k', 'spotify:track:6Zyizxfz4NXdCgVLwhuBNw', 'spotify:track:46Gtgo6vbo88TNMyCeH4Ie', 'spotify:track:5laooGcY5SocbZmDmAUaXv', 'spotify:track:2mGEQITv0Na4anchcYXl9k', 'spotify:track:6Zyizxfz4NXdCgVLwhuBNw', 'spotify:track:46Gtgo6vbo88TNMyCeH4Ie', 'spotify:track:5laooGcY5SocbZmDmAUaXv', 'spotify:track:2mGEQITv0Na4anchcYXl9k', 'spotify:track:6Zyizxfz4NXdCgVLwhuBNw', 'spotify:track:46Gtgo6vbo88TNMyCeH4Ie', 'spotify:track:5laooGcY5SocbZmDmAUaXv']
    },
    "description": "Add songs from the current playing queue to the new playlist 'Current' (id 5XJy3G9z2R4X1aB2)",
    "output_instructions": "No specific output instructions"
}
Parser: Successfully called POST /playlists/2ocg799YlylVT6ILX0m9UW/tracks to add songs to the new playlist "Current" (id 5XJy3G9z2R4X1aB2). snapshot id: Miw1ZWEyOWM5MTFlY2JhOWYwZGNiMzI5MWFhYjdjYWMzYTllODk3NTBm



=============
Ground truth: ['GET /me/player/queue', 'GET /me', 'POST /users/{user_id}/playlists', 'POST /playlists/{playlist_id}/tracks']